version: "2"

run:
  timeout: 5m
  modules-download-mode: readonly

linters:
  enable:
    - govet         # Reports suspicious constructs
    - ineffassign   # Detect ineffectual assignments
    - staticcheck   # Go static analysis (includes gosimple and unused)
    - misspell      # Find commonly misspelled English words
    - bodyclose     # Check HTTP response body is closed
    - noctx         # Find sending HTTP request without context.Context
    - revive        # Fast, configurable, extensible, flexible, and beautiful linter for Go
    - gosec         # Security problems

  disable:
    # Temporarily disabled linters
    - errcheck      # Check for unchecked errors

  settings:
    errcheck:
      check-type-assertions: true

    govet:
      enable:
        - nilness
        - unusedresult
      disable:
        - shadow

    revive:
      rules:
        - name: exported
        - name: error-return
        - name: error-naming
        - name: if-return
        - name: var-naming

  exclusions:
    rules:
    # Exclude some linters from running on tests files
    - path: _test\.go
      linters:
        - gosec
    # Exclude package naming rules
    - text: "var-naming: avoid meaningless package names"
      linters:
        - revive
    - text: "package-comments: should have a package comment"
      linters:
        - revive
    - text: "var-naming: don't use an underscore in package name"
      linters:
        - revive
